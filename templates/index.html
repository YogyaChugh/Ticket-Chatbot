<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ministry of Culture</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="{{url_for('static',filename='styles.css')}}">
  <script src="{{url_for('static',filename='script.js')}}" defer></script>
</head>
<body class="bg-gray-100 text-gray-800 font-sans flex items-center justify-center min-h-screen p-4">

  <!-- Chatbot Button -->
  <button id="chatbot-btn" class="fixed bottom-4 right-4 bg-gradient-to-r from-blue-300 to-blue-500 text-white p-3 rounded-full shadow-lg hover:bg-blue-400 transition duration-300 z-50">
    <img src="{{url_for('static',filename='images/chatbot.png')}}" height="30" width="30">
  </button>

  <!-- Chatbot Popup -->
  <div id="chatbot" class="fixed bottom-20 right-16 w-[400px] mb-9 h-[600px] bg-gradient-to-r from-white to-blue-50 shadow-lg rounded-lg hidden transition-transform transform scale-90 ease-in-out z-50">
    <div class="bg-gradient-to-r from-blue-500 to-blue-700 text-white p-4 rounded-t-lg flex items-center justify-between">
      <h3 class="text-2xl font-bold flex items-center space-x-2">
        <span>üìú</span>
        <span>Prachin</span>
      </h3>
      <button id="close-chatbot" class="text-white bg-blue-600 hover:bg-blue-700 p-2 text-xl rounded-full transition duration-300 ease-in-out transform hover:scale-110 focus:outline-none">
        ‚ùå
      </button>
    </div>

    <!-- Chat Area -->
    <div id="chat-area" class="p-4 h-[calc(100%-80px)] overflow-y-auto">
      <!-- Bot Message -->
      <div id="initial-bot-message" class="flex items-start space-x-2 mb-4 bot-message message-box">
        <div class="w-12 h-12 rounded-full bg-blue-400 text-white flex justify-center items-center text-2xl">üèõÔ∏è</div>
        <div class="bg-blue-100 p-4 rounded-xl shadow-lg max-w-xs text-blue-800">
          <p>Welcome! How can I assist you today?</p>
        </div>
      </div>
      <!-- Debugger Toggle Box -->
<div class="fixed bottom-4 right-4 bg-white p-3 rounded-lg shadow-lg flex items-center space-x-2">
  
<label class="inline-flex items-center cursor-pointer">
  <input type="checkbox" value="" class="sr-only peer" checked onclick="set_debugging()">
  <div class="relative w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"></div>
  <span class="ms-3 text-sm font-medium text-gray-900 dark:text-gray-300">Debugger</span>
</label>

</div>

    </div>
    

    <!-- Input Area -->
    <div class="bg-blue-50 p-4 flex items-center space-x-4">
      <input 
        id="message-input" 
        type="text" 
        placeholder="Type your message..." 
        class="w-full border border-blue-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition-transform transform duration-300 ease-in-out"
        onkeypress="handleEnter(event)">
      <button 
        id="send-btn" 
        class="bg-gradient-to-r from-blue-300 to-blue-500 text-white p-3 rounded-full hover:bg-blue-400 transition duration-300 ease-in-out transform hover:scale-110 shadow-lg">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Ticket Form -->
  <div class="w-full max-w-4xl bg-white rounded-lg shadow-lg overflow-hidden p-4" id="ticket" style="display:none">
    <!-- Header -->
    <div class="border-b border-gray-200 bg-gray-50 mb-4">
      <h2 class="text-2xl font-bold text-center py-2">Book Your Tickets</h2>
    </div>
    
    <!-- Form -->
    <form class="space-y-4">
      <!-- Form Container with Flexbox -->
      <div class="flex flex-col sm:flex-row items-start sm:items-center space-y-4 sm:space-y-0 sm:space-x-4">
        <!-- Museum Selection Label -->
        <label for="search" class="block text-sm font-medium text-gray-700 dark:text-gray-300 sm:w-1/3">Select a Museum:</label>
    
        <!-- Search Bar -->
        <div class="relative sm:w-2/3 w-full">
          <input 
            type="text" 
            id="search" 
            oninput="filterCards()" 
            class="block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
            placeholder="Search by museum name"
          />
        </div>
      </div>
      
      <!-- Museum Selection Cards -->
      <div class="relative">
        <div id="museum-cards" class="overflow-x-auto no-scrollbar flex space-x-3 py-4">
          <!-- Museum Cards with Background Image and Text Overlay -->
          {% for i in result %}
            <div 
              class="card w-64 h-40 bg-gray-200 rounded-lg flex-shrink-0 cursor-pointer relative overflow-hidden" 
              style="background-image: url('{{url_for('static', filename='images/hh.jpg')}}'); background-size: cover; background-position: center;"
              data-name="{{i['name']|lower}}"
            >
              <!-- Overlay to darken the background image for better text contrast -->
              <div class="absolute inset-0 bg-black opacity-50"></div>
      
              <!-- Text over the image -->
              <div class="relative z-10 p-4">
                <h3 class="text-lg font-bold text-white mb-2">{{i['name']|title}}</h3>
                <p class="text-gray-200 text-sm">{{i['type']|title}} Museum</p>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
      <div id="visit-date-container">
        <label for="visit-date">Select Visit Date:</label>
        <input type="text" id="visit-date" name="visit-date">
      </div>
    
      <!-- Submit Button -->
      <div class="text-center">
        <button onclick="tuggler()" type="submit" class="bg-blue-500 text-white py-2 px-4 rounded-lg shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500" id="book-now-btn" disabled>
          <span id="botton_text" class="block">Book Now</span>
          <div id="botton_loader" class="w-8 h-8 border-4 border-t-4 border-black-500 border-solid rounded-full border-t-transparent animate-spin hidden"></div>
        </button>
      </div>
    </form>
    
  </div>
  <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-lg" id="set" style="display:none">
    <h2 class="text-2xl font-bold text-center mb-6">Adjust Settings</h2>

    <!-- Range Sliders -->
    <div class="mb-4">
      <label for="range1" class="block text-lg font-semibold mb-2">Volume:</label>
      <input id="range1" type="range" min="0" max="100" value="50" class="w-full h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer">
    </div>
    <div class="mb-4">
      <label for="range2" class="block text-lg font-semibold mb-2">Brightness:</label>
      <input id="range2" type="range" min="0" max="100" value="50" class="w-full h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer">
    </div>
    <div class="mb-6">
      <label for="range3" class="block text-lg font-semibold mb-2">Contrast:</label>
      <input id="range3" type="range" min="0" max="100" value="50" class="w-full h-2 bg-blue-200 rounded-lg appearance-none cursor-pointer">
    </div>

    <!-- Proceed Button -->
    <div class="text-center">
      <button 
        class="bg-blue-500 text-white py-2 px-4 rounded-lg shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-300 ease-in-out">
        Proceed
      </button>
    </div>
  </div>
  
</body>
</html>
